---
source: crates/biome_module_graph/tests/snap/mod.rs
assertion_line: 129
expression: content
---
# `/node_modules/vfile/types/index.d.ts`

## Source

```ts
// TypeScript Version: 3.0

import * as Unist from "unist";
import * as vfileMessage from "vfile-message";

declare namespace vfile {
	/**
	 * Encodings supported by the buffer class
	 *
	 * @remarks
	 * This is a copy of the typing from Node, copied to prevent Node globals from being needed.
	 * Copied from https://github.com/DefinitelyTyped/DefinitelyTyped/blob/a2bc1d868d81733a8969236655fa600bd3651a7b/types/node/globals.d.ts#L174
	 */
	type BufferEncoding =
		| "ascii"
		| "utf8"
		| "utf-8"
		| "utf16le"
		| "ucs2"
		| "ucs-2"
		| "base64"
		| "latin1"
		| "binary"
		| "hex";

	/**
	 * VFileContents can either be text, or a Buffer like structure
	 * @remarks
	 * This does not directly use type `Buffer, because it can also be used in a browser context.
	 * Instead this leverages `Uint8Array` which is the base type for `Buffer`, and a native JavaScript construct.
	 */
	type VFileContents = string | Uint8Array;
	type VFileCompatible = VFile | VFileOptions | VFileContents;
	interface Settings {
		[key: string]: unknown;
	}
	type VFileReporter<T = Settings> = (files: VFile[], options: T) => string;

	interface VFileOptions {
		contents?: VFileContents;
		path?: string;
		basename?: string;
		stem?: string;
		extname?: string;
		dirname?: string;
		cwd?: string;
		data?: any;
		[key: string]: any;
	}

	interface VFile {
		/**
		 * Create a new virtual file. If `options` is `string` or `Buffer`, treats it as `{contents: options}`.
		 * If `options` is a `VFile`, returns it. All other options are set on the newly created `vfile`.
		 *
		 * Path related properties are set in the following order (least specific to most specific): `history`, `path`, `basename`, `stem`, `extname`, `dirname`.
		 *
		 * Itâ€™s not possible to set either `dirname` or `extname` without setting either `history`, `path`, `basename`, or `stem` as well.
		 *
		 * @param options If `options` is `string` or `Buffer`, treats it as `{contents: options}`. If `options` is a `VFile`, returns it. All other options are set on the newly created `vfile`.
		 */
		<F extends VFile>(input?: VFileContents | F | VFileOptions): F;
		/**
		 * List of file-paths the file moved between.
		 */
		history: string[];
		/**
		 * Place to store custom information.
		 * It's OK to store custom data directly on the `vfile`, moving it to `data` gives a little more privacy.
		 */
		data: unknown;
		/**
		 * List of messages associated with the file.
		 */
		messages: vfileMessage.VFileMessage[];
		/**
		 * Raw value.
		 */
		contents: VFileContents;
		/**
		 * Path of `vfile`.
		 * Cannot be nullified.
		 */
		path?: string;
		/**
		 * Path to parent directory of `vfile`.
		 * Cannot be set if there's no `path` yet.
		 */
		dirname?: string;
		/**
		 * Current name (including extension) of `vfile`.
		 * Cannot contain path separators.
		 * Cannot be nullified either (use `file.path = file.dirname` instead).
		 */
		basename?: string;
		/**
		 * Name (without extension) of `vfile`.
		 * Cannot be nullified, and cannot contain path separators.
		 */
		stem?: string;
		/**
		 * Extension (with dot) of `vfile`.
		 * Cannot be set if there's no `path` yet and cannot contain path separators.
		 */
		extname?: string;
		/**
		 * Base of `path`.
		 * Defaults to `process.cwd()`.
		 */
		cwd: string;
		/**
		 * Convert contents of `vfile` to string.
		 * @param encoding If `contents` is a buffer, `encoding` is used to stringify buffers (default: `'utf8'`).
		 */
		toString: (encoding?: BufferEncoding) => string;
		/**
		 * Associates a message with the file for `reason` at `position`.
		 * When an error is passed in as `reason`, copies the stack.
		 * Each message has a `fatal` property which by default is set to `false` (ie. `warning`).
		 * @param reason Reason for message. Uses the stack and message of the error if given.
		 * @param position Place at which the message occurred in `vfile`.
		 * @param ruleId Category of message.
		 */
		message: (
			reason: string,
			position?: Unist.Point | Unist.Position | Unist.Node,
			ruleId?: string,
		) => vfileMessage.VFileMessage;
		/**
		 * Associates a fatal message with the file, then immediately throws it.
		 * Note: fatal errors mean a file is no longer processable.
		 * Calls `message()` internally.
		 * @param reason Reason for message. Uses the stack and message of the error if given.
		 * @param position Place at which the message occurred in `vfile`.
		 * @param ruleId Category of message.
		 */
		fail: (
			reason: string,
			position?: Unist.Point | Unist.Position | Unist.Node,
			ruleId?: string,
		) => never;
		/**
		 * Associates an informational message with the file, where `fatal` is set to `null`.
		 * Calls `message()` internally.
		 * @param reason Reason for message. Uses the stack and message of the error if given.
		 * @param position Place at which the message occurred in `vfile`.
		 * @param ruleId Category of message.
		 */
		info: (
			reason: string,
			position?: Unist.Point | Unist.Position | Unist.Node,
			ruleId?: string,
		) => vfileMessage.VFileMessage;

		[key: string]: unknown;
	}
}

declare const vfile: vfile.VFile;

export = vfile;
```

## Module Info

```
Exports {
  "basename" => {
    ExportOwnExport => JsOwnExport::Type(Module(0) TypeId(27))
  }
  "contents" => {
    ExportOwnExport => JsOwnExport::Type(Module(0) TypeId(45))
  }
  "cwd" => {
    ExportOwnExport => JsOwnExport::Type(Module(0) TypeId(3))
  }
  "data" => {
    ExportOwnExport => JsOwnExport::Type(Module(0) TypeId(35))
  }
  "default" => {
    ExportOwnExport => JsOwnExport::Type(Module(0) TypeId(7))
  }
  "dirname" => {
    ExportOwnExport => JsOwnExport::Type(Module(0) TypeId(27))
  }
  "extname" => {
    ExportOwnExport => JsOwnExport::Type(Module(0) TypeId(27))
  }
  "fail" => {
    ExportOwnExport => JsOwnExport::Type(Module(0) TypeId(41))
  }
  "history" => {
    ExportOwnExport => JsOwnExport::Type(Module(0) TypeId(50))
  }
  "info" => {
    ExportOwnExport => JsOwnExport::Type(Module(0) TypeId(39))
  }
  "message" => {
    ExportOwnExport => JsOwnExport::Type(Module(0) TypeId(39))
  }
  "messages" => {
    ExportOwnExport => JsOwnExport::Type(Module(0) TypeId(36))
  }
  "path" => {
    ExportOwnExport => JsOwnExport::Type(Module(0) TypeId(27))
  }
  "stem" => {
    ExportOwnExport => JsOwnExport::Type(Module(0) TypeId(27))
  }
  "toString" => {
    ExportOwnExport => JsOwnExport::Type(Module(0) TypeId(37))
  }
}
Imports {
  "Unist" => {
    Specifier: "unist"
    Resolved path:
    Import Symbol: All
  }
  "vfileMessage" => {
    Specifier: "vfile-message"
    Resolved path:
    Import Symbol: All
  }
}
```

## Registered types

```
Module TypeId(0) => instanceof Array<Module(0) TypeId(43)>

Module TypeId(1) => instanceof Module(0) TypeId(42)

Module TypeId(2) => Module(0) TypeId(45) | Module(0) TypeId(1) | Module(0) TypeId(47)

Module TypeId(3) => string

Module TypeId(4) => Module(0) TypeId(54) | Module(0) TypeId(54) | Module(0) TypeId(54)

Module TypeId(5) => Module(0) TypeId(54) | Module(0) TypeId(54) | Module(0) TypeId(54)

Module TypeId(6) => Module(0) TypeId(54) | Module(0) TypeId(54) | Module(0) TypeId(54)

Module TypeId(7) => Module(0) TypeId(43)

Module TypeId(8) => Namespace {
    path: [
        Borrowed(
            "vfile",
        ),
    ],
    members: [
        TypeMember {
            kind: NamedStatic(
                Borrowed(
                    "BufferEncoding",
                ),
            ),
            ty: Resolved(
                Module(0) TypeId(52),
            ),
        },
        TypeMember {
            kind: NamedStatic(
                Borrowed(
                    "VFileContents",
                ),
            ),
            ty: Resolved(
                Module(0) TypeId(45),
            ),
        },
        TypeMember {
            kind: NamedStatic(
                Borrowed(
                    "VFileCompatible",
                ),
            ),
            ty: Resolved(
                Module(0) TypeId(19),
            ),
        },
        TypeMember {
            kind: NamedStatic(
                Borrowed(
                    "Settings",
                ),
            ),
            ty: Resolved(
                Module(0) TypeId(23),
            ),
        },
        TypeMember {
            kind: NamedStatic(
                Borrowed(
                    "VFileReporter",
                ),
            ),
            ty: Resolved(
                Module(0) TypeId(25),
            ),
        },
        TypeMember {
            kind: NamedStatic(
                Borrowed(
                    "T",
                ),
            ),
            ty: Resolved(
                Module(0) TypeId(24),
            ),
        },
        TypeMember {
            kind: NamedStatic(
                Borrowed(
                    "VFileOptions",
                ),
            ),
            ty: Resolved(
                Module(0) TypeId(47),
            ),
        },
        TypeMember {
            kind: NamedStatic(
                Borrowed(
                    "VFile",
                ),
            ),
            ty: Resolved(
                Module(0) TypeId(43),
            ),
        },
    ],
}

Module TypeId(9) => value: ascii

Module TypeId(10) => value: utf8

Module TypeId(11) => value: utf-8

Module TypeId(12) => value: utf16le

Module TypeId(13) => value: ucs2

Module TypeId(14) => value: ucs-2

Module TypeId(15) => value: base64

Module TypeId(16) => value: latin1

Module TypeId(17) => value: binary

Module TypeId(18) => value: hex

Module TypeId(19) => Module(0) TypeId(43) | Module(0) TypeId(47) | Module(0) TypeId(45)

Module TypeId(20) => instanceof Array<Module(0) TypeId(43)>

Module TypeId(21) => instanceof Module(0) TypeId(24)

Module TypeId(22) => sync Function {
  accepts: {
    params: [
      required files: Module(0) TypeId(20)
      required options: Module(0) TypeId(21)
    ]
    type_args: []
  }
  returns: Module(0) TypeId(3)
}

Module TypeId(23) => interface "Settings" {
  extends: []
  type_args: []
  members: []
}

Module TypeId(24) => T = unknown reference

Module TypeId(25) => instanceof Module(0) TypeId(22)<Module(0) TypeId(24)>

Module TypeId(26) => Module(0) TypeId(45) | undefined

Module TypeId(27) => Module(0) TypeId(3) | undefined

Module TypeId(28) => any

Module TypeId(29) => Module(0) TypeId(28) | undefined

Module TypeId(30) => Module(0) TypeId(45) | undefined

Module TypeId(31) => interface "VFileOptions" {
  extends: []
  type_args: []
  members: [
    "contents": Module(0) TypeId(30),
    "path": Module(0) TypeId(27),
    "basename": Module(0) TypeId(27),
    "stem": Module(0) TypeId(27),
    "extname": Module(0) TypeId(27),
    "dirname": Module(0) TypeId(27),
    "cwd": Module(0) TypeId(27),
    "data": Module(0) TypeId(29)
  ]
}

Module TypeId(32) => F extends Module(0) TypeId(43)

Module TypeId(33) => Module(0) TypeId(45) | Module(0) TypeId(46) | Module(0) TypeId(47)

Module TypeId(34) => sync Function {
  accepts: {
    params: [
      optional input: Module(0) TypeId(33)
    ]
    type_args: [Module(0) TypeId(32)]
  }
  returns: Module(0) TypeId(46)
}

Module TypeId(35) => unknown

Module TypeId(36) => instanceof Array<Module(0) TypeId(54)>

Module TypeId(37) => sync Function {
  accepts: {
    params: [
      optional encoding: Module(0) TypeId(52)
    ]
    type_args: []
  }
  returns: Module(0) TypeId(3)
}

Module TypeId(38) => Module(0) TypeId(54) | Module(0) TypeId(54) | Module(0) TypeId(54)

Module TypeId(39) => sync Function {
  accepts: {
    params: [
      required reason: Module(0) TypeId(3)
      optional position: Module(0) TypeId(38)
      optional ruleId: Module(0) TypeId(3)
    ]
    type_args: []
  }
  returns: Module(0) TypeId(54)
}

Module TypeId(40) => never

Module TypeId(41) => sync Function {
  accepts: {
    params: [
      required reason: Module(0) TypeId(3)
      optional position: Module(0) TypeId(38)
      optional ruleId: Module(0) TypeId(3)
    ]
    type_args: []
  }
  returns: Module(0) TypeId(40)
}

Module TypeId(42) => F extends Module(0) TypeId(43)

Module TypeId(43) => interface "VFile" {
  extends: []
  type_args: []
  members: [
    (): Module(0) TypeId(34),
    "history": Module(0) TypeId(50),
    "data": Module(0) TypeId(35),
    "messages": Module(0) TypeId(36),
    "contents": Module(0) TypeId(45),
    "path": Module(0) TypeId(27),
    "dirname": Module(0) TypeId(27),
    "basename": Module(0) TypeId(27),
    "stem": Module(0) TypeId(27),
    "extname": Module(0) TypeId(27),
    "cwd": Module(0) TypeId(3),
    "toString": Module(0) TypeId(37),
    "message": Module(0) TypeId(39),
    "fail": Module(0) TypeId(41),
    "info": Module(0) TypeId(39)
  ]
}

Module TypeId(44) => F extends Module(0) TypeId(43)

Module TypeId(45) => Module(0) TypeId(3) | Module(0) TypeId(46)

Module TypeId(46) => unknown

Module TypeId(47) => interface "VFileOptions" {
  extends: []
  type_args: []
  members: [
    "contents": Module(0) TypeId(26),
    "path": Module(0) TypeId(27),
    "basename": Module(0) TypeId(27),
    "stem": Module(0) TypeId(27),
    "extname": Module(0) TypeId(27),
    "dirname": Module(0) TypeId(27),
    "cwd": Module(0) TypeId(27),
    "data": Module(0) TypeId(29)
  ]
}

Module TypeId(48) => Module(0) TypeId(45) | Module(0) TypeId(46) | Module(0) TypeId(47)

Module TypeId(49) => sync Function {
  accepts: {
    params: [
      optional input: Module(0) TypeId(48)
    ]
    type_args: [Module(0) TypeId(44)]
  }
  returns: Module(0) TypeId(46)
}

Module TypeId(50) => instanceof Array<Module(0) TypeId(3)>

Module TypeId(51) => instanceof Array<Module(0) TypeId(54)>

Module TypeId(52) => Module(0) TypeId(9) | Module(0) TypeId(10) | Module(0) TypeId(11) | Module(0) TypeId(12) | Module(0) TypeId(13) | Module(0) TypeId(14) | Module(0) TypeId(15) | Module(0) TypeId(16) | Module(0) TypeId(17) | Module(0) TypeId(18)

Module TypeId(53) => sync Function {
  accepts: {
    params: [
      optional encoding: Module(0) TypeId(52)
    ]
    type_args: []
  }
  returns: Module(0) TypeId(3)
}

Module TypeId(54) => instanceof Import Symbol: All from

Module TypeId(55) => Module(0) TypeId(54) | Module(0) TypeId(54) | Module(0) TypeId(54)

Module TypeId(56) => sync Function {
  accepts: {
    params: [
      required reason: Module(0) TypeId(3)
      optional position: Module(0) TypeId(55)
      optional ruleId: Module(0) TypeId(3)
    ]
    type_args: []
  }
  returns: Module(0) TypeId(54)
}

Module TypeId(57) => sync Function {
  accepts: {
    params: [
      required reason: Module(0) TypeId(3)
      optional position: Module(0) TypeId(55)
      optional ruleId: Module(0) TypeId(3)
    ]
    type_args: []
  }
  returns: Module(0) TypeId(40)
}

Module TypeId(58) => interface "VFile" {
  extends: []
  type_args: []
  members: [
    (): Module(0) TypeId(49),
    "history": Module(0) TypeId(50),
    "data": Module(0) TypeId(35),
    "messages": Module(0) TypeId(51),
    "contents": Module(0) TypeId(45),
    "path": Module(0) TypeId(27),
    "dirname": Module(0) TypeId(27),
    "basename": Module(0) TypeId(27),
    "stem": Module(0) TypeId(27),
    "extname": Module(0) TypeId(27),
    "cwd": Module(0) TypeId(3),
    "toString": Module(0) TypeId(53),
    "message": Module(0) TypeId(56),
    "fail": Module(0) TypeId(57),
    "info": Module(0) TypeId(56)
  ]
}
```
